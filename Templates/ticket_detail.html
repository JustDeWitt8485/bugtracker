<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>BugTracker</title>
</head>

<div class="fixed-top">
    <div class="collapse" id="navbarToggleExternalContent">
        <div class="bg-dark p-4">
            <h5 class="text-white h4">Collapsed content</h5>
            <span class="text-muted">Toggleable via the navbar brand.</span>
        </div>
    </div>
    <nav class="navbar navbar-dark bg-dark">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent"
            aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            <button><a href="/" class="text-body">Home</a></button>
            <button><a href="/tickets/add/" class="text-body">Create Ticket</a></button>
            {% if request.user.is_authenticated %}
            <button type="button" class="btn btn-outline-danger">
                <a href="/logout/" class="text-body">Log Out</a></button>
            {% endif %}
        </button>
    </nav>
</div>

<br>
<br>
<br>

<h2>Ticket Detail Page</h2>

<br>
<br>

<h4><a href="/edit/{{ticket_d.id}}">EDIT</a></h4>

<h4>Title:</h4><h6>-{{ ticket_d.title }}</h6>
<br>
<h4>Description:</h4><h6>-{{ ticket_d.description }}</h6>
<br>
<h4>Date Submitted:</h4><h6>-{{ ticket_d.date_filed }}</h6>
<br>
<h4>Reported By:</h4><h6>-{{ ticket_d.user_filed }}</h6> -->

<form method="post" action="/assignperson/{{ticket_d.id}}/">
    {% csrf_token %}
    {{choose_person.as_p}}
    <input type="submit" class="btn btn-success" value="Submit" />
    </div>
</form>


<!-- Status: New
User Assigned: None
User who Completed: None
User who filed: Person who's logged in -->

<!-- When a ticket is assigned, these change as follows:

Status: In Progress
User Assigned: person the ticket now belongs to
User who Completed: None -->

<!-- When a ticket is Done, these change as follows:

Status: Done
User Assigned: None
User who Completed: person who the ticket used to belong to -->

<!-- When a ticket is marked as Invalid, these change as follows:

Status: Invalid
User Assigned: None
User who Completed: None -->

<!-- {% if request.user.is_authenticated %}

<h1>Greetings, {{ request.user.username }}</h1>

{% endif %} -->

<!-- {% if ticket.status is ip%}
<form action="/tickets/{{ticket_d.id}}">
    <label for="status">Status:</label>
    <select name="status" id={{status}}>
        <option value={{new}}>New</option>
        <option value={{ip}}>In Progress</option>
        <option value="{{done}}">Done</option>
        <option value={{invalid}}>Invalid</option>
    </select>
    <br><br>
    <input type="submit" value="Submit">
</form>


{% endif %} -->
<!-- <h4>Status:</h4><h6>-{{ ticket_d.status }}</h6>
<br>
<h4>Title:</h4><h6>-{{ ticket_d.title }}</h6>
<br>
<h4>Description:</h4><h6>-{{ ticket_d.description }}</h6>
<br>
<h4>Date Submitted:</h4><h6>-{{ ticket_d.date_filed }}</h6>
<br>
<h4>Reported By:</h4><h6>-{{ ticket_d.user_filed }}</h6> -->